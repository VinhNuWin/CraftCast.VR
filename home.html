<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Send to ChatGPT API</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
      async function sendToChatGPTApi(text) {
        console.log("Sending to ChatGPT API via Netlify Function");
        try {
          const response = await axios.post("/.netlify/functions/chatGPT", {
            text,
          });
          console.log("Response from server:", response.data);
          displayResponse(response.data);
        } catch (error) {
          console.error("Error sending data:", error);
          alert(
            "Error sending to the server. Check the console for more details."
          );
        }
      }

      function handleSubmit() {
        const inputText = document.getElementById("inputText").value;
        sendToChatGPTApi(inputText);
      }

      function displayResponse(data) {
        const responseElement = document.getElementById("apiResponse");
        responseElement.textContent = JSON.stringify(data, null, 2);
      }
    </script>
  </head>
  <body>
    <h1>ChatGPT API Sender</h1>
    <input type="text" id="inputText" placeholder="Enter your text here" />
    <button onclick="handleSubmit()">Send</button>
    <pre
      id="apiResponse"
      style="
        background: #f4f4f4;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        margin-top: 20px;
      "
    ></pre>
  </body>
</html>
